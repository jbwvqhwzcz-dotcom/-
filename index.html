import React, { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import {
  Zap,
  Phone,
  ChevronDown,
  Home,
  Lightbulb,
  Wrench,
  Star,
  X,
  Send,
} from "lucide-react";

/* ================= HERO ================= */
function Hero({ scrollToContact }) {
  return (
    <section className="min-h-screen flex flex-col justify-center items-center text-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white px-6">
      <div className="mb-6 flex items-center gap-2 bg-blue-500/20 px-5 py-2 rounded-full">
        <Zap className="text-blue-400" />
        <span className="text-blue-300 text-sm">חשמלאי מוסמך</span>
      </div>

      <h1 className="text-5xl md:text-7xl font-bold mb-6">
        פתרונות חשמל
        <span className="block text-transparent bg-clip-text bg-gradient-to-l from-blue-400 to-cyan-300">
          מקצועיים ואמינים
        </span>
      </h1>

      <p className="text-slate-300 max-w-xl mb-10">
        מעל 15 שנות ניסיון בעבודות חשמל לבתים ועסקים
      </p>

      <div className="flex flex-col sm:flex-row gap-4">
        <button
          onClick={scrollToContact}
          className="bg-blue-500 hover:bg-blue-600 px-8 py-4 rounded-xl text-lg"
        >
          קבל הצעת מחיר
        </button>

        <button
          onClick={() => (window.location.href = "tel:050-000-0000")}
          className="border border-slate-400 px-8 py-4 rounded-xl text-lg"
        >
          <Phone className="inline ml-2" />
          התקשר עכשיו
        </button>
      </div>

      <ChevronDown className="absolute bottom-8 animate-bounce text-slate-400" />
    </section>
  );
}

/* ================= ABOUT ================= */
function About() {
  return (
    <section className="py-24 bg-white px-6 text-center">
      <h2 className="text-4xl font-bold mb-6">קצת עליי</h2>
      <p className="max-w-2xl mx-auto text-slate-600 leading-relaxed">
        שמי יוסי כהן, חשמלאי מוסמך עם ניסיון של מעל 15 שנה.
        אני מתחייב לעבודה מקצועית, בטוחה, נקייה ועם אחריות מלאה.
      </p>
    </section>
  );
}

/* ================= SERVICES ================= */
function Services() {
  const services = [
    { icon: Home, title: "חשמל לבתים פרטיים" },
    { icon: Lightbulb, title: "תאורה וחיסכון באנרגיה" },
    { icon: Wrench, title: "תיקונים ותחזוקה" },
  ];

  return (
    <section className="py-24 bg-slate-50 px-6">
      <h2 className="text-4xl font-bold text-center mb-12">השירותים שלי</h2>

      <div className="grid md:grid-cols-3 gap-6 max-w-6xl mx-auto">
        {services.map((s, i) => (
          <div
            key={i}
            className="bg-white p-8 rounded-xl shadow text-center"
          >
            <s.icon className="mx-auto text-blue-500 mb-4" size={40} />
            <h3 className="font-bold text-lg">{s.title}</h3>
          </div>
        ))}
      </div>
    </section>
  );
}

/* ================= GALLERY ================= */
function Gallery() {
  const images = [
    "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600",
    "https://images.unsplash.com/photo-1497366216548-37526070297c?w=600",
    "https://images.unsplash.com/photo-1593784991095-a205069470b6?w=600",
  ];

  const [open, setOpen] = useState(null);

  return (
    <section className="py-24 bg-white px-6">
      <h2 className="text-4xl font-bold text-center mb-12">עבודות אחרונות</h2>

      <div className="grid md:grid-cols-3 gap-6 max-w-6xl mx-auto">
        {images.map((img, i) => (
          <img
            key={i}
            src={img}
            onClick={() => setOpen(img)}
            className="rounded-xl cursor-pointer hover:scale-105 transition"
          />
        ))}
      </div>

      <AnimatePresence>
        {open && (
          <motion.div
            className="fixed inset-0 bg-black/90 flex items-center justify-center z-50"
            onClick={() => setOpen(null)}
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
          >
            <X className="absolute top-6 left-6 text-white cursor-pointer" />
            <img src={open} className="max-w-3xl rounded-xl" />
          </motion.div>
        )}
      </AnimatePresence>
    </section>
  );
}

/* ================= TESTIMONIALS ================= */
function Testimonials() {
  return (
    <section className="py-24 bg-slate-900 text-white text-center px-6">
      <h2 className="text-4xl font-bold mb-6">לקוחות ממליצים</h2>
      <div className="flex justify-center gap-2 mb-4">
        {[...Array(5)].map((_, i) => (
          <Star key={i} className="text-yellow-400 fill-yellow-400" />
        ))}
      </div>
      <p className="max-w-xl mx-auto text-slate-300">
        שירות מקצועי, אמין ומחירים הוגנים. מומלץ בחום!
      </p>
    </section>
  );
}

/* ================= CONTACT ================= */
function Contact() {
  return (
    <section id="contact" className="py-24 bg-slate-50 px-6 text-center">
      <h2 className="text-4xl font-bold mb-6">צור קשר</h2>
      <p className="mb-6">טלפון: 050-000-0000</p>

      <button
        onClick={() => (window.location.href = "tel:050-000-0000")}
        className="bg-blue-500 hover:bg-blue-600 px-8 py-4 rounded-xl text-white text-lg"
      >
        <Send className="inline ml-2" />
        חייג עכשיו
      </button>
    </section>
  );
}

/* ================= FOOTER ================= */
function Footer() {
  return (
    <footer className="bg-slate-900 text-white text-center py-6">
      © {new Date().getFullYear()} יוסי כהן – חשמלאי מוסמך
    </footer>
  );
}

/* ================= APP ================= */
export default function App() {
  const scrollToContact = () =>
    document.getElementById("contact")?.scrollIntoView({ behavior: "smooth" });

  return (
    <div dir="rtl">
      <Hero scrollToContact={scrollToContact} />
      <About />
      <Services />
      <Gallery />
      <Testimonials />
      <Contact />
      <Footer />
    </div>
  );
}
